# Assets Folder

This folder contains assets and scripts to manage the upload and validation of files to Google Cloud Storage (GCP). The files in this folder are organized to maintain a consistent folder structure when uploaded to GCP. Additionally, scripts are provided to automate the upload process and validate the accessibility of URLs.

---

## Folder Overview

1. **Assets**:
   - All files and subfolders in this directory will be uploaded to a specified GCP bucket while preserving the folder structure.

2. **Scripts**:
   - `upload_assets.go`: Automates the upload of all files in this folder to GCP.
   - `check_urls.go`: Validates that all URLs in these files are publicly accessible.
       - en-US.toml
       - ar-SA.toml
       - resources.dev.yaml
       - resources.staging.yaml
       - resources.production.yaml

---

## Prerequisites

Before using the scripts, ensure the following:
1. **Service Account Key**:
   - Place the `service_account.json` file in this folder. This file is required for authentication when running the scripts.

---

## How to Use the Scripts

### 1. Prepare Files for Upload

- Place all files and subfolders you want to upload inside this folder.
- Ensure the folder structure matches how you want the files to appear in the GCP bucket.
- Exclude sensitive files (e.g., `service_account.json`) or files that should not be uploaded.

### 2. Upload Files to GCP

Run the `upload_assets.go` script to upload all files in this folder to the specified GCP bucket.

#### Steps:
1. Run this script from this folder
   ```bash
   go build -o assets && ./assets upload_assets
   ```

### What the Script Does:
- Uploads all files in this folder to the GCP bucket while preserving the folder structure.
- Skip files that already eixist in the GCP bucket
- Skips uploading the go, binary, json, md,.. files.
- Makes all uploaded files publicly accessible.

### 3. Validate URLs in static asset files

Run the check_urls.go script to validate that all URLs in static asset files are publicly accessible.

#### Steps:
1. Run the script:
    ```bash
   go build -o assets && ./assets check_urls
    ```

### What the Script Does:
- Extracts all URLs from the tier_description.json file.
- Checks each URL for public accessibility using curl.
- Outputs the status of each URL:
   - ✅ Accessible: The URL is publicly accessible.
   - ❌ Not Accessible: The URL is not publicly accessible, along with the HTTP status code.